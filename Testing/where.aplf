 where;StopOnTest
⍝ Test related location & size properties (where, extent, size, & scale)

 MT←0 0⍴'' ⍝ An empty return value for many ∆WI calls
 '#'∆WI Pass MT⊢'Reset' ⍝ Clean out any previous GUI work

 ∆WSELF←'f' ⍝ This technically won't work in APL+Win, but it will here because we can't trap assignment errors
 ∆WI Pass(,'f')⊢'New' 'Form'
 ∆WI Pass(,'f')⊢'self'
 ∆WI Pass MT⊢'where' 0 0 10 10
 ∆WI Pass 0 0 10 10⊢'where'
 ∆WI Pass MT⊢'where'(0 0 10 10)
 ∆WI Pass 0 0 10 10⊢'where'
 ∆WI Pass 7.5625 8⊢'extent'
 ∆WI Pass 7.5625 8⊢'size'
 ∆WI Pass 1 0 0 7.5625 8⊢'scale'
 ∆WI Pass MT⊢'extent' 10 10
 ∆WI Pass 0 0 12.4375 12⊢'where'
 ∆WI Pass 10 10⊢'extent'
 ∆WI Pass 10 10⊢'size'
 ∆WI Pass 1 0 0 10 10⊢'scale'
 ∆WI Pass MT⊢'scale' 2
 ∆WI Pass 10 10⊢'extent'
 ∆WI Pass 80 40⊢'size'
 ∆WI Pass 2 0 0 80 40⊢'scale'
 ∆WI Pass MT⊢'where' 30 150
 ∆WI Pass 30 150 12.4375 12⊢'where'
 ∆WI Pass 10 10⊢'extent'
 ∆WI Pass 80 40⊢'size'
 ∆WI Pass 2 0 0 80 40⊢'scale'
 ∆WI Pass MT⊢'extent' 10 30
 ∆WI Pass 80 120⊢'size'

 ∆WSELF←'f.b1'
 ∆WI Pass'f.b1'⊢'New' 'Button'('where' 0 0)('caption' 'Yep')
 ∆WI Pass'f.b1'⊢'self'
 ∆WI Pass 0 0 12 40⊢'where'
 ∆WI Pass 12 40⊢'extent'
 ∆WI Pass 1.5 10⊢'size'

 ∆WSELF←'f.b2'
 ∆WI Pass'f.b2'⊢'New' 'Button'('where' 15 40)('extent' 18 60)('caption' 'Nope')
 ∆WI Pass 15 40 18 60⊢'where'
 ∆WI Pass 18 60⊢'extent'
 ∆WI Pass 2.25 15⊢'size'

 ∆WSELF←'f.b3'
 ∆WI Pass'f.b3'⊢'New' 'Button'('where' 40 20)('size' 2 20)('caption' 'Maybe')
 ∆WI Pass 40 20 16 80⊢'where'
 ∆WI Pass 16 80⊢'extent'
 ∆WI Pass 2 20⊢'size'


⍝? Proportional scaling can't be tested until written

 ⎕DL 15
quit:'f'∆WI Pass MT⊢'Delete' ⍝ Clean up after tests
